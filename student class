import java.util.ArrayList;
import java.util.Scanner;

class Student {
    String studentName, rollNumber, registerNumber, department, year, section, gender;
    String advisorName, studentMail, officialMail, studentContact, parentContact;
    int dateOfBirth;
    double cgpa;
    int attendancePercentage;
    int outpassDaysTaken;

    Student(String studentName, String rollNumber, String registerNumber, String department, int dateOfBirth,
            String year, String section, int attendancePercentage, String gender, double cgpa,
            String advisorName, String studentMail, String officialMail,
            String studentContact, String parentContact) {

        this.studentName = studentName;
        this.rollNumber = rollNumber;
        this.registerNumber = registerNumber;
        this.department = department;
        this.dateOfBirth = dateOfBirth;
        this.year = year;
        this.section = section;
        this.attendancePercentage = attendancePercentage;
        this.gender = gender;
        this.cgpa = cgpa;
        this.advisorName = advisorName;
        this.studentMail = studentMail;
        this.officialMail = officialMail;
        this.studentContact = studentContact;
        this.parentContact = parentContact;
        this.outpassDaysTaken = 0;
    }

    // Display student details
    public void displayDetails() {
        System.out.println("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        System.out.println("â•‘           STUDENT DETAILS                â•‘");
        System.out.println("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
        System.out.println("â•‘ Name           : " + studentName);
        System.out.println("â•‘ Roll Number    : " + rollNumber);
        System.out.println("â•‘ Register Number: " + registerNumber);
        System.out.println("â•‘ Department     : " + department);
        System.out.println("â•‘ DOB            : " + dateOfBirth);
        System.out.println("â•‘ Year           : " + year);
        System.out.println("â•‘ Section        : " + section);
        System.out.println("â•‘ Attendance     : " + attendancePercentage + "%");
        System.out.println("â•‘ CGPA           : " + cgpa);
        System.out.println("â•‘ Gender         : " + gender);
        System.out.println("â•‘ Advisor        : " + advisorName);
        System.out.println("â•‘ Student Mail   : " + studentMail);
        System.out.println("â•‘ Official Mail  : " + officialMail);
        System.out.println("â•‘ Student Contact: " + studentContact);
        System.out.println("â•‘ Parent Contact : " + parentContact);
        System.out.println("â•‘ OutPass Days   : " + outpassDaysTaken);
        System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");
    }
}

class OutPass {
    String rollNumber, outPassNumber, outDate, outTime, reason, status, inDate, inTime;
    boolean advisorApproved, hodApproved, wardenApproved;

    OutPass(String rollNumber, String outPassNumber, String outDate, String outTime,
            String reason, String status, String inDate, String inTime) {
        this.rollNumber = rollNumber;
        this.outPassNumber = outPassNumber;
        this.outDate = outDate;
        this.outTime = outTime;
        this.reason = reason;
        this.status = status;
        this.inDate = inDate;
        this.inTime = inTime;
        this.advisorApproved = false;
        this.hodApproved = false;
        this.wardenApproved = false;
    }

    // Display OutPass Details
    public void displayOutPass() {
        System.out.println("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
        System.out.println("â•‘           OUTPASS DETAILS               â•‘");
        System.out.println("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
        System.out.println("â•‘ OutPass No.    : " + outPassNumber);
        System.out.println("â•‘ Roll Number    : " + rollNumber);
        System.out.println("â•‘ Date           : " + outDate);
        System.out.println("â•‘ Time           : " + outTime);
        System.out.println("â•‘ Reason         : " + reason);
        System.out.println("â•‘ Status         : " + status);
        System.out.println("â•‘ Advisor Approved: " + (advisorApproved ? "Yes" : "No"));
        System.out.println("â•‘ HOD Approved   : " + (hodApproved ? "Yes" : "No"));
        System.out.println("â•‘ Warden Approved: " + (wardenApproved ? "Yes" : "No"));
        System.out.println("â•‘ In Date        : " + inDate);
        System.out.println("â•‘ In Time        : " + inTime);
        System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");
    }
}

public class outpSS {
    static Scanner sc = new Scanner(System.in);
    static ArrayList<Student> students = new ArrayList<>();
    static ArrayList<OutPass> outPasses = new ArrayList<>();

    public static void main(String[] args) {
        while (true) {
            System.out.println("\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
            System.out.println("â•‘ ğŸ« STUDENT OUTPASS MANAGEMENT SYSTEM ğŸ« â•‘");
            System.out.println("â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£");
            System.out.println("â•‘ 1ï¸âƒ£  âœ Register Student                  â•‘");
            System.out.println("â•‘ 2ï¸âƒ£  âœ Apply for OutPass                 â•‘");
            System.out.println("â•‘ 3ï¸âƒ£  âœ Advisor Approval                  â•‘");
            System.out.println("â•‘ 4ï¸âƒ£  âœ HOD Approval                     â•‘");
            System.out.println("â•‘ 5ï¸âƒ£  âœ Warden Approval                  â•‘");
            System.out.println("â•‘ 6ï¸âƒ£  âœ Check-In/Check-Out               â•‘");
            System.out.println("â•‘ 7ï¸âƒ£  âœ View Student Details             â•‘");
            System.out.println("â•‘ 8ï¸âƒ£  âœ View OutPass Details             â•‘");
            System.out.println("â•‘ 9ï¸âƒ£  âœ Exit                             â•‘");
            System.out.println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
            System.out.print("ğŸ”¹ Enter your choice: ");

            int choice = sc.nextInt();
            sc.nextLine();

            switch (choice) {
                case 1:
                    registerStudent();
                    break;
                case 2:
                    applyOutPass();
                    break;
                case 3:
                    advisorApproval();
                    break;
                case 4:
                    hodApproval();
                    break;
                case 5:
                    wardenApproval();
                    break;
                case 6:
                    checkInCheckOut();
                    break;
                case 7:
                    viewStudent();
                    break;
                case 8:
                    viewOutPass();
                    break;
                case 9:
                    System.out.println("âœ… Exiting the system... Have a great day!");
                    return;
                default:
                    System.out.println("âŒ Invalid choice! Please try again.");
            }
        }
    }

    // Method to register a new student
    public static void registerStudent() {
        System.out.println("\nğŸ”¹ Enter Student Details ğŸ”¹");
        System.out.print("Name: ");
        String name = sc.nextLine();
        System.out.print("Roll Number: ");
        String rollNumber = sc.nextLine();
        System.out.print("Register Number: ");
        String registerNumber = sc.nextLine();
        System.out.print("Department: ");
        String department = sc.nextLine();
        System.out.print("Date of Birth (YYYYMMDD): ");
        int dob = sc.nextInt();
        sc.nextLine();
        System.out.print("Year: ");
        String year = sc.nextLine();
        System.out.print("Section: ");
        String section = sc.nextLine();
        System.out.print("Attendance Percentage: ");
        int attendance = sc.nextInt();
        sc.nextLine();
        System.out.print("CGPA: ");
        double cgpa = sc.nextDouble();
        sc.nextLine();
        System.out.print("Gender: ");
        String gender = sc.nextLine();
        System.out.print("Advisor Name: ");
        String advisor = sc.nextLine();
        System.out.print("Student Mail: ");
        String studentMail = sc.nextLine();
        System.out.print("Official Mail: ");
        String officialMail = sc.nextLine();
        System.out.print("Student Contact: ");
        String studentContact = sc.nextLine();
        System.out.print("Parent Contact: ");
        String parentContact = sc.nextLine();

        students.add(new Student(name, rollNumber, registerNumber, department, dob, year, section, attendance, gender, cgpa, advisor, studentMail, officialMail, studentContact, parentContact));
        System.out.println("âœ… Student Registered Successfully!\n");
    }

    // Method to apply for an OutPass
    public static void applyOutPass() {
        System.out.print("\nğŸ”¹ Enter Roll Number: ");
        String roll = sc.nextLine();
        System.out.print("Reason: ");
        String reason = sc.nextLine();

        outPasses.add(new OutPass(roll, "OP-" + (outPasses.size() + 1), "2025-03-02", "10:00 AM", reason, "Pending", "", ""));
        System.out.println("âœ… OutPass Request Submitted!");
    }

    // Method for Advisor Approval
    public static void advisorApproval() {
        System.out.print("\nğŸ”¹ Enter OutPass Number to Approve: ");
        String passNum = sc.nextLine();

        for (OutPass o : outPasses) {
            if (o.outPassNumber.equals(passNum)) {
                System.out.print("Call Parent for Permission (Yes/No): ");
                String permission = sc.nextLine();
                if (permission.equalsIgnoreCase("Yes")) {
                    o.advisorApproved = true;
                    o.status = "Advisor Approved";
                    System.out.println("âœ… Advisor Approved!");
                } else {
                    System.out.println("âŒ Parent Permission Denied!");
                }
                return;
            }
        }
        System.out.println("âŒ OutPass Not Found!");
    }

    // Method for HOD Approval
    public static void hodApproval() {
        System.out.print("\nğŸ”¹ Enter OutPass Number to Approve: ");
        String passNum = sc.nextLine();

        for (OutPass o : outPasses) {
            if (o.outPassNumber.equals(passNum)) {
                if (o.advisorApproved) {
                    System.out.print("Enter CGPA: ");
                    double cgpa = sc.nextDouble();
                    System.out.print("Enter Attendance: ");
                    int attendance = sc.nextInt();
                    sc.nextLine();

                    if (cgpa >= 7.5 && attendance >= 75) {
                        o.hodApproved = true;
                        o.status = "HOD Approved";
                        System.out.println("âœ… HOD Approved!");
                    } else {
                        System.out.println("âŒ CGPA or Attendance Criteria Not Met!");
                    }
                } else {
                    System.out.println("âŒ Advisor Approval Pending!");
                }
                return;
            }
        }
        System.out.println("âŒ OutPass Not Found!");
    }

    // Method for Warden Approval
    public static void wardenApproval() {
        System.out.print("\nğŸ”¹ Enter OutPass Number to Approve: ");
        String passNum = sc.nextLine();

        for (OutPass o : outPasses) {
            if (o.outPassNumber.equals(passNum)) {
                if (o.hodApproved) {
                    o.wardenApproved = true;
                    o.status = "Warden Approved";
                    System.out.println("âœ… Warden Approved!");
                } else {
                    System.out.println("âŒ HOD Approval Pending!");
                }
                return;
            }
        }
        System.out.println("âŒ OutPass Not Found!");
    }

    // Method for Check-In/Check-Out
    public static void checkInCheckOut() {
        System.out.print("\nğŸ”¹ Enter OutPass Number: ");
        String passNum = sc.nextLine();

        for (OutPass o : outPasses) {
            if (o.outPassNumber.equals(passNum)) {
                if (o.wardenApproved) {
                    System.out.print("Enter Check-In Date (YYYY-MM-DD): ");
                    o.inDate = sc.nextLine();
                    System.out.print("Enter Check-In Time (HH:MM AM/PM): ");
                    o.inTime = sc.nextLine();
                    o.status = "Completed";
                    System.out.println("âœ… Check-In Recorded!");
                } else {
                    System.out.println("âŒ Warden Approval Pending!");
                }
                return;
            }
        }
        System.out.println("âŒ OutPass Not Found!");
    }

    // Method to view student details
    public static void viewStudent() {
        System.out.print("\nğŸ”¹ Enter Roll Number to View Details: ");
        String roll = sc.nextLine();

        for (Student s : students) {
            if (s.rollNumber.equals(roll)) {
                s.displayDetails();
                return;
            }
        }
        System.out.println("âŒ Student Not Found!");
    }

    // Method to view all OutPass details
    public static void viewOutPass() {
        for (OutPass o : outPasses) {
            o.displayOutPass();
        }
    }
}
